{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\OneDrive\\\\Documentos\\\\TranslateX-\\\\TranslateX\\\\src\\\\components\\\\VoiceTranslator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst idiomas = [{\n  code: 'es',\n  label: 'Espa√±ol'\n}, {\n  code: 'en',\n  label: 'Ingl√©s'\n}, {\n  code: 'fr',\n  label: 'Franc√©s'\n}, {\n  code: 'de',\n  label: 'Alem√°n'\n}\n// Agrega m√°s idiomas si quieres\n];\nconst VoiceTranslator = ({\n  targetLang\n}) => {\n  _s();\n  const recognitionRef = useRef(null);\n  const [isListening, setIsListening] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [translatedText, setTranslatedText] = useState('');\n  const [inputLang, setInputLang] = useState('es'); // idioma de entrada\n\n  // Iniciar reconocimiento de voz\n  const startListening = () => {\n    if (!('webkitSpeechRecognition' in window)) {\n      alert('Tu navegador no soporta reconocimiento de voz.');\n      return;\n    }\n    const recognition = new window.webkitSpeechRecognition();\n    recognition.lang = inputLang === 'es' ? 'es-ES' : inputLang === 'en' ? 'en-US' : inputLang;\n    recognition.interimResults = false;\n    recognition.continuous = false;\n    recognition.onresult = event => {\n      const result = event.results[0][0].transcript;\n      setTranscript(result);\n    };\n    recognition.onerror = event => {\n      console.error('Error de reconocimiento de voz:', event.error);\n    };\n    recognition.onend = () => {\n      setIsListening(false);\n    };\n    recognitionRef.current = recognition;\n    recognition.start();\n    setIsListening(true);\n  };\n\n  // Parar reconocimiento\n  const stopListening = () => {\n    var _recognitionRef$curre;\n    (_recognitionRef$curre = recognitionRef.current) === null || _recognitionRef$curre === void 0 ? void 0 : _recognitionRef$curre.stop();\n    setIsListening(false);\n  };\n\n  // Traducci√≥n autom√°tica al detectar texto usando MyMemory\n  useEffect(() => {\n    const translateText = async () => {\n      if (transcript) {\n        try {\n          const response = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(transcript)}&langpair=${inputLang}|${targetLang}`);\n          const data = await response.json();\n          setTranslatedText(data.responseData.translatedText);\n        } catch (error) {\n          console.error('Error al traducir:', error);\n          setTranslatedText('‚ùå Error al traducir');\n        }\n      }\n    };\n    translateText();\n  }, [transcript, targetLang, inputLang]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 bg-white dark:bg-gray-800 rounded shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isListening ? stopListening : startListening,\n        className: `px-4 py-2 rounded font-bold transition ${isListening ? 'bg-red-500 text-white' : 'bg-green-500 text-white'}`,\n        children: isListening ? 'üõë Detener' : 'üé§ Hablar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-600 dark:text-gray-300\",\n        children: isListening ? 'Escuchando...' : 'Presiona para comenzar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: inputLang,\n        onChange: e => setInputLang(e.target.value),\n        className: \"ml-4 px-2 py-1 rounded\",\n        children: idiomas.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang.code,\n          children: lang.label\n        }, lang.code, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-gray-500\",\n        children: \"Idioma de entrada\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mb-1\",\n        children: \"\\uD83D\\uDCDD Texto detectado:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-100 dark:bg-gray-700 rounded text-gray-900 dark:text-white\",\n        children: transcript || '...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mb-1\",\n        children: \"\\uD83C\\uDF10 Traducci\\xF3n:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-100 dark:bg-gray-700 rounded text-gray-900 dark:text-white\",\n        children: translatedText || '...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceTranslator, \"0lopsHyP6514FHNJxtuHj8FULKw=\");\n_c = VoiceTranslator;\nexport default VoiceTranslator;\nvar _c;\n$RefreshReg$(_c, \"VoiceTranslator\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","idiomas","code","label","VoiceTranslator","targetLang","_s","recognitionRef","isListening","setIsListening","transcript","setTranscript","translatedText","setTranslatedText","inputLang","setInputLang","startListening","window","alert","recognition","webkitSpeechRecognition","lang","interimResults","continuous","onresult","event","result","results","onerror","console","error","onend","current","start","stopListening","_recognitionRef$curre","stop","translateText","response","fetch","encodeURIComponent","data","json","responseData","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","_c","$RefreshReg$"],"sources":["C:/Users/asus/OneDrive/Documentos/TranslateX-/TranslateX/src/components/VoiceTranslator.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\n\r\nconst idiomas = [\r\n  { code: 'es', label: 'Espa√±ol' },\r\n  { code: 'en', label: 'Ingl√©s' },\r\n  { code: 'fr', label: 'Franc√©s' },\r\n  { code: 'de', label: 'Alem√°n' },\r\n  // Agrega m√°s idiomas si quieres\r\n];\r\n\r\nconst VoiceTranslator = ({ targetLang }) => {\r\n  const recognitionRef = useRef(null);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [transcript, setTranscript] = useState('');\r\n  const [translatedText, setTranslatedText] = useState('');\r\n  const [inputLang, setInputLang] = useState('es'); // idioma de entrada\r\n\r\n  // Iniciar reconocimiento de voz\r\n  const startListening = () => {\r\n    if (!('webkitSpeechRecognition' in window)) {\r\n      alert('Tu navegador no soporta reconocimiento de voz.');\r\n      return;\r\n    }\r\n\r\n    const recognition = new window.webkitSpeechRecognition();\r\n    recognition.lang = inputLang === 'es' ? 'es-ES' : inputLang === 'en' ? 'en-US' : inputLang;\r\n    recognition.interimResults = false;\r\n    recognition.continuous = false;\r\n\r\n    recognition.onresult = (event) => {\r\n      const result = event.results[0][0].transcript;\r\n      setTranscript(result);\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      console.error('Error de reconocimiento de voz:', event.error);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognitionRef.current = recognition;\r\n    recognition.start();\r\n    setIsListening(true);\r\n  };\r\n\r\n  // Parar reconocimiento\r\n  const stopListening = () => {\r\n    recognitionRef.current?.stop();\r\n    setIsListening(false);\r\n  };\r\n\r\n  // Traducci√≥n autom√°tica al detectar texto usando MyMemory\r\n  useEffect(() => {\r\n    const translateText = async () => {\r\n      if (transcript) {\r\n        try {\r\n          const response = await fetch(\r\n            `https://api.mymemory.translated.net/get?q=${encodeURIComponent(transcript)}&langpair=${inputLang}|${targetLang}`\r\n          );\r\n          const data = await response.json();\r\n          setTranslatedText(data.responseData.translatedText);\r\n        } catch (error) {\r\n          console.error('Error al traducir:', error);\r\n          setTranslatedText('‚ùå Error al traducir');\r\n        }\r\n      }\r\n    };\r\n\r\n    translateText();\r\n  }, [transcript, targetLang, inputLang]);\r\n\r\n  return (\r\n    <div className=\"p-4 bg-white dark:bg-gray-800 rounded shadow\">\r\n      <div className=\"flex items-center gap-4 mb-4\">\r\n        <button\r\n          onClick={isListening ? stopListening : startListening}\r\n          className={`px-4 py-2 rounded font-bold transition ${\r\n            isListening ? 'bg-red-500 text-white' : 'bg-green-500 text-white'\r\n          }`}\r\n        >\r\n          {isListening ? 'üõë Detener' : 'üé§ Hablar'}\r\n        </button>\r\n        <span className=\"text-gray-600 dark:text-gray-300\">\r\n          {isListening ? 'Escuchando...' : 'Presiona para comenzar'}\r\n        </span>\r\n        <select\r\n          value={inputLang}\r\n          onChange={e => setInputLang(e.target.value)}\r\n          className=\"ml-4 px-2 py-1 rounded\"\r\n        >\r\n          {idiomas.map(lang => (\r\n            <option key={lang.code} value={lang.code}>{lang.label}</option>\r\n          ))}\r\n        </select>\r\n        <span className=\"text-xs text-gray-500\">Idioma de entrada</span>\r\n      </div>\r\n\r\n      <div className=\"mb-4\">\r\n        <h2 className=\"font-semibold mb-1\">üìù Texto detectado:</h2>\r\n        <div className=\"p-3 bg-gray-100 dark:bg-gray-700 rounded text-gray-900 dark:text-white\">\r\n          {transcript || '...'}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h2 className=\"font-semibold mb-1\">üåê Traducci√≥n:</h2>\r\n        <div className=\"p-3 bg-gray-100 dark:bg-gray-700 rounded text-gray-900 dark:text-white\">\r\n          {translatedText || '...'}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VoiceTranslator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}