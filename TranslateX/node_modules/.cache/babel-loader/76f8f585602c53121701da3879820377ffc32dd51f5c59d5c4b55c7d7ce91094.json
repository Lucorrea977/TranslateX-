{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\OneDrive\\\\Documentos\\\\TranslateX-\\\\TranslateX\\\\src\\\\components\\\\VoiceTranslator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceTranslator = ({\n  targetLang\n}) => {\n  _s();\n  const recognitionRef = useRef(null);\n  const [isListening, setIsListening] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [translatedText, setTranslatedText] = useState('');\n\n  // Iniciar reconocimiento de voz\n  const startListening = () => {\n    if (!('webkitSpeechRecognition' in window)) {\n      alert('Tu navegador no soporta reconocimiento de voz.');\n      return;\n    }\n    const recognition = new window.webkitSpeechRecognition();\n    recognition.lang = 'es-ES';\n    recognition.interimResults = false;\n    recognition.continuous = false;\n    recognition.onresult = event => {\n      const result = event.results[0][0].transcript;\n      setTranscript(result);\n    };\n    recognition.onerror = event => {\n      console.error('Error de reconocimiento de voz:', event.error);\n    };\n    recognition.onend = () => {\n      setIsListening(false);\n    };\n    recognitionRef.current = recognition;\n    recognition.start();\n    setIsListening(true);\n  };\n\n  // Parar reconocimiento\n  const stopListening = () => {\n    var _recognitionRef$curre;\n    (_recognitionRef$curre = recognitionRef.current) === null || _recognitionRef$curre === void 0 ? void 0 : _recognitionRef$curre.stop();\n    setIsListening(false);\n  };\n\n  // Traducción automática al detectar texto\n  useEffect(() => {\n    const translateText = async () => {\n      if (transcript) {\n        try {\n          const response = await axios.post('https://libretranslate.de/translate', {\n            q: transcript,\n            source: 'auto',\n            target: targetLang,\n            format: 'text'\n          }, {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n          console.log('Respuesta de traducción:', response.data);\n          setTranslatedText(response.data.translatedText);\n        } catch (error) {\n          console.error('Error al traducir:', error);\n          if (error.response) {\n            console.error('Respuesta del servidor:', error.response.data);\n            setTranslatedText(`❌ Error: ${error.response.data.error || 'al traducir'}`);\n          } else {\n            setTranslatedText('❌ Error al traducir');\n          }\n        }\n      }\n    };\n    translateText();\n  }, [transcript, targetLang]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 bg-white dark:bg-gray-800 rounded shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isListening ? stopListening : startListening,\n        className: `px-4 py-2 rounded font-bold transition ${isListening ? 'bg-red-500 text-white' : 'bg-green-500 text-white'}`,\n        children: isListening ? '🛑 Detener' : '🎤 Hablar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-600 dark:text-gray-300\",\n        children: isListening ? 'Escuchando...' : 'Presiona para comenzar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mb-1\",\n        children: \"\\uD83D\\uDCDD Texto detectado:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-100 dark:bg-gray-700 rounded text-gray-900 dark:text-white\",\n        children: transcript || '...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mb-1\",\n        children: \"\\uD83C\\uDF10 Traducci\\xF3n:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-100 dark:bg-gray-700 rounded text-gray-900 dark:text-white\",\n        children: translatedText || '...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceTranslator, \"zQj0nTWor4+IgTsg0Gihjd7md4A=\");\n_c = VoiceTranslator;\nexport default VoiceTranslator;\nvar _c;\n$RefreshReg$(_c, \"VoiceTranslator\");","map":{"version":3,"names":["React","useRef","useState","useEffect","axios","jsxDEV","_jsxDEV","VoiceTranslator","targetLang","_s","recognitionRef","isListening","setIsListening","transcript","setTranscript","translatedText","setTranslatedText","startListening","window","alert","recognition","webkitSpeechRecognition","lang","interimResults","continuous","onresult","event","result","results","onerror","console","error","onend","current","start","stopListening","_recognitionRef$curre","stop","translateText","response","post","q","source","target","format","headers","log","data","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/asus/OneDrive/Documentos/TranslateX-/TranslateX/src/components/VoiceTranslator.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst VoiceTranslator = ({ targetLang }) => {\r\n  const recognitionRef = useRef(null);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [transcript, setTranscript] = useState('');\r\n  const [translatedText, setTranslatedText] = useState('');\r\n\r\n  // Iniciar reconocimiento de voz\r\n  const startListening = () => {\r\n    if (!('webkitSpeechRecognition' in window)) {\r\n      alert('Tu navegador no soporta reconocimiento de voz.');\r\n      return;\r\n    }\r\n\r\n    const recognition = new window.webkitSpeechRecognition();\r\n    recognition.lang = 'es-ES';\r\n    recognition.interimResults = false;\r\n    recognition.continuous = false;\r\n\r\n    recognition.onresult = (event) => {\r\n      const result = event.results[0][0].transcript;\r\n      setTranscript(result);\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      console.error('Error de reconocimiento de voz:', event.error);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognitionRef.current = recognition;\r\n    recognition.start();\r\n    setIsListening(true);\r\n  };\r\n\r\n  // Parar reconocimiento\r\n  const stopListening = () => {\r\n    recognitionRef.current?.stop();\r\n    setIsListening(false);\r\n  };\r\n\r\n  // Traducción automática al detectar texto\r\n  useEffect(() => {\r\n    const translateText = async () => {\r\n      if (transcript) {\r\n        try {\r\n          const response = await axios.post(\r\n            'https://libretranslate.de/translate',\r\n            {\r\n              q: transcript,\r\n              source: 'auto',\r\n              target: targetLang,\r\n              format: 'text',\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n              },\r\n            }\r\n          );\r\n          console.log('Respuesta de traducción:', response.data);\r\n          setTranslatedText(response.data.translatedText);\r\n        } catch (error) {\r\n          console.error('Error al traducir:', error);\r\n          if (error.response) {\r\n            console.error('Respuesta del servidor:', error.response.data);\r\n            setTranslatedText(\r\n              `❌ Error: ${error.response.data.error || 'al traducir'}`\r\n            );\r\n          } else {\r\n            setTranslatedText('❌ Error al traducir');\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    translateText();\r\n  }, [transcript, targetLang]);\r\n\r\n  return (\r\n    <div className=\"p-4 bg-white dark:bg-gray-800 rounded shadow\">\r\n      <div className=\"flex items-center gap-4 mb-4\">\r\n        <button\r\n          onClick={isListening ? stopListening : startListening}\r\n          className={`px-4 py-2 rounded font-bold transition ${\r\n            isListening ? 'bg-red-500 text-white' : 'bg-green-500 text-white'\r\n          }`}\r\n        >\r\n          {isListening ? '🛑 Detener' : '🎤 Hablar'}\r\n        </button>\r\n        <span className=\"text-gray-600 dark:text-gray-300\">\r\n          {isListening ? 'Escuchando...' : 'Presiona para comenzar'}\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"mb-4\">\r\n        <h2 className=\"font-semibold mb-1\">📝 Texto detectado:</h2>\r\n        <div className=\"p-3 bg-gray-100 dark:bg-gray-700 rounded text-gray-900 dark:text-white\">\r\n          {transcript || '...'}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h2 className=\"font-semibold mb-1\">🌐 Traducción:</h2>\r\n        <div className=\"p-3 bg-gray-100 dark:bg-gray-700 rounded text-gray-900 dark:text-white\">\r\n          {translatedText || '...'}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VoiceTranslator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}